<div class="jumbotron container-fluid text-center text-md-center">
   <h1 class="title">Crow Collections Around the World</h1>
</div>
<div class="mapPage">
   <div class="map" *ngIf="map_loaded">
      <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom">
         <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
         <div *ngFor='let marker of mapMarkers'>
            <agm-marker [latitude]="marker.lat" [longitude]="marker.lng" [title]="marker.label" [label]="marker.title"
               (markerClick)="showMarker(marker.title)"></agm-marker>
         </div>
      </agm-map>
   </div>
   <div *ngIf="clicked" class="afterClick">
      <div class="card-header" style="background-color:#77859A; color:#FFFFFF;">
         <span id="title">{{selectedMarker.title}}</span>
      </div>
      <div class="card-body" *ngIf="selectedMarker instanceof CrowMapMarker; else default">
         <div>{{asCrowMapMarker(selectedMarker).city}}</div>
         <div>{{asCrowMapMarker(selectedMarker).country}}</div>
         <div>{{asCrowMapMarker(selectedMarker).continent}}</div>
         <div>{{asCrowMapMarker(selectedMarker).code}}</div>
         <div>Crow: {{asCrowMapMarker(selectedMarker).crow_material}}, 
            Digi: {{asCrowMapMarker(selectedMarker).digital_collection}}, 
            Repl: {{asCrowMapMarker(selectedMarker).replied_to_contact}}</div>
      </div>
      <ng-template #default class="card-body">
         <div>{{selectedMarker.label}}</div>
         <div>{{selectedMarker.title}}</div>
         <div>Default Item</div>
      </ng-template>
   </div>
   <div *ngIf="!map_loaded">
      <div class="d-flex justify-content-center" style="padding-top: 45vh; vertical-align: middle;">
          <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
              <span class="sr-only">Loading...</span>
          </div>
      </div>
  </div>
</div>