<!-- 3/15/2021   -   Mark Wolgin - Removed Summary field -->
<!-- 3/25/2021   -   Tim Mazzarelli - Removed whitespace and created dropdown-->

<div *ngIf="collection" class="top-content layer-md"
    style="background: url({{API_URL}}/media/{{backgroundURL}}) no-repeat fixed;">
    <div class="quote">
        <h1 class="title">{{collection.title}}</h1>
    </div>
</div>

<div class="collection-container">
    <!--Grid column-->
    <ul class="collection-button-column">
        <li class="nav-item cbc1  top-button">
            <a class="nav-link active" [ngClass]="{'nav-item-selected' :currentSubPage == 'coll'}"
                href="{{currentPageUrl}}#coll">Collection</a>
        </li>
        <li class="nav-item cbc2">
            <a class="nav-link" [ngClass]="{'nav-item-selected' :currentSubPage == 'attr'}"
                href="{{currentPageUrl}}#attr">Collection Information</a>
        </li>
        <li class="nav-item cbc3">
            <a class="nav-link" [ngClass]="{'nav-item-selected' :currentSubPage == 'back'}" href="/collections">Back to
                Collections</a>
        </li>
    </ul>

    <div class="collection-content-panel">
        <div class="tab-content pt-0">
            <div *ngIf="currentSubPage=='coll'">
                <div *ngIf="items" class="row justify-content-center container-fluid">
                    <div *ngFor="let item of pageOfItems; let indexOfelement=index" class="col-md-4">
                        <div *ngIf="item">
                            <a href="/items/{{item.id}}"> 
                                <div *ngIf="!item.cover_image">
                                    <button class="coverImage"
                                        style="background-color:black">
                                        {{item.name}}
                                    </button>
                                </div>
                                <div *ngIf="item.cover_image">
                                    <button class="coverImage"
                                        style="background: url({{API_URL}}/media/{{item.cover_image}}) no-repeat fixed;">
                                        {{item.name}}
                                    </button>
                                </div>
                            </a>
                        </div>
                    </div>
                    <jw-pagination pageSize = 9 [items]="items" (changePage)="onChangePage($event)"></jw-pagination>
                </div>
                <!-- <app-card [cover_image]="item.cover_image" [title]="item.name" [id]="item.id"
                                    [number]="indexOfelement" [route]=router_route> </app-card> -->
            </div>
        </div>




        <div *ngIf="currentSubPage=='attr'">
            <div *ngIf="collection.description">
                <p><strong>Description</strong></p>
                <p>{{collection.description}}</p>
            </div>
            <div *ngIf="collection.provenance">
                <p><strong>Provenance</strong></p>
                <p>{{collection.provenance}}</p>
            </div>
            <div *ngIf="collection.citation">
                <p><strong>Citation</strong></p>
                <p>{{collection.citation}}</p>
            </div>
            <div *ngIf="collection.historical_note">
                <p><strong>Historical Note</strong></p>
                <p>{{collection.historical_note}}</p>
            </div>
            <div *ngIf="collection.access_notes_or_rights_and_reproduction">
                <p><strong>Access Notes or Rights and Reproduction</strong></p>
                <p>{{collection.access_notes_or_rights_and_reproduction}}</p>
            </div>
            <div *ngIf="collection.geographical_location">
                <p><strong>Geographical Location</strong></p>
                <p>{{collection.geographical_location}}</p>
            </div>
            <div *ngIf="keywords" class="kwords">
                <div *ngIf="keywords.length > 0">
                    <p><strong>Keyword(s)</strong></p>
                    <div *ngFor="let keyword of keywords; let last = last;" class="kwords">
                        <div *ngIf="!last">
                            <p>{{keyword.name}}, &nbsp;</p>
                        </div>
                        <div *ngIf="last">
                            <p>{{keyword.name}}</p>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div *ngIf="creators" class="creators">
                <div *ngIf="creators.length > 0">
                    <p><strong>Creator(s)</strong></p>
                    <div *ngFor="let creator of creators">
                        <p> <a [routerLink]="['/pori', creator.id]" class="btn btn-outline-info my-2 my-sm-0"
                                style="color:black; font-weight:500"> {{creator.name}} </a> </p>
                    </div>
                </div>
            </div>
            <div *ngIf="originals">
                <div *ngIf="originals.length > 0">
                    <p><strong>Location of Originals</strong></p>
                    <div *ngFor="let original of originals">
                        <p> <a [routerLink]="['/pori', original.id]" class="btn btn-outline-info my-2 my-sm-0"
                                style="color:black; font-weight:500"> {{original.name}} </a> </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="theme-filter">
    <ng-multiselect-dropdown [placeholder]="'Filter by Keyword'" [settings]="dropdownSettings" [data]="itemKeywords"
        [(ngModel)]="selectedKeywords" (onSelect)="onKeywordFilterSelect()" (onSelectAll)="onKeywordFilterSelect()"
        (onDeSelect)="onKeywordFilterSelect()" (onDeSelectAll)="onKeywordFilterSelect()">
    </ng-multiselect-dropdown>
</div>